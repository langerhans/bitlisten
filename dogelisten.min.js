window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,d){window.setTimeout(a,1E3/60)}}());
(function(){window.visibly={b:null,q:document,p:void 0,prefixes:["webkit","ms"],props:["VisibilityState","visibilitychange","Hidden"],m:["focus","blur"],visibleCallbacks:[],hiddenCallbacks:[],_callbacks:[],onVisible:function(a){this.visibleCallbacks.push(a)},onHidden:function(a){this.hiddenCallbacks.push(a)},isSupported:function(){return this._supports(0)||this._supports(1)},_supports:function(a){return this.prefixes[a]+this.props[2]in this.q},runCallbacks:function(a){if(a)for(this._callbacks=1==
a?this.visibleCallbacks:this.hiddenCallbacks,a=0;a<this._callbacks.length;a++)this._callbacks[a]()},_visible:function(){window.visibly.runCallbacks(1)},_hidden:function(){window.visibly.runCallbacks(2)},_nativeSwitch:function(){!0===this.q[this.b+this.props[2]]?this._hidden():this._visible()},listen:function(){try{this.isSupported()?(this.b=this._supports(0)==this.p?this.prefixes[1]:this.prefixes[0],this.q.addEventListener(this.b+this.props[1],function(){window.visibly._nativeSwitch.apply(window.visibly,
arguments)},1)):document.addEventListener?(window.addEventListener(this.m[0],this._visible,1),window.addEventListener(this.m[1],this._hidden,1)):(this.q.attachEvent("onfocusin",this._visible),this.q.attachEvent("onfocusout",this._hidden))}catch(a){}},init:function(){this.listen()}};this.visibly.init()})();(function(a){a.fn.qr=function(d){function g(d,g){for(var m=escape(d);-1!=m.indexOf("/");)m=m.replace("/","%2f");var A=document.createElement("div");$qr=a(A);$qr.css({background:"url('http://chart.apis.google.com/chart?cht=qr&chs="+g+"x"+g+"&chl="+m+"') no-repeat",width:g+"px",height:g+"px",display:"none","border-style":"solid","border-width":"1px",position:"absolute","z-index":"1000"});a("body").append($qr);return A}return this.each(function(){var l={size:"230",delay:"0"};d&&a.extend(l,d);var h=a(this);
h.qr_div=g(h.attr("qrtarget"),l.size);h.mouseenter(function(d){h.qr_timeout_id=window.setTimeout(function(){a(h.qr_div).css({display:"block",top:d.pageY+5,left:d.pageX+15})},l.delay)});h.mouseleave(function(d){null!=h.qr_timeout_id&&(window.clearTimeout(h.qr_timeout_id),h.qr_timeout_id=null);a(h.qr_div).css({display:"none"})})})}})(jQuery);var Konami=function(a){var d={addEvent:function(a,d,h,m){a.addEventListener?a.addEventListener(d,h,!1):a.attachEvent&&(a["e"+d+h]=h,a[d+h]=function(){a["e"+d+h](window.event,m)},a.attachEvent("on"+d,a[d+h]))},input:"",pattern:"38384040373937396665",load:function(a){this.addEvent(document,"keydown",function(l,h){h&&(d=h);d.input+=l?l.keyCode:event.keyCode;d.input.length>d.pattern.length&&(d.input=d.input.substr(d.input.length-d.pattern.length));if(d.input==d.pattern)return d.code(a),d.input="",l.preventDefault(),
!1},this);this.iphone.load(a)},code:function(a){window.location=a},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:"UP UP DOWN DOWN LEFT RIGHT LEFT RIGHT TAP TAP".split(" "),code:function(a){d.code(a)},load:function(a){this.orig_keys=this.keys;d.addEvent(document,"touchmove",function(a){1==a.touches.length&&1==d.iphone.capture&&(a=a.touches[0],d.iphone.stop_x=a.pageX,d.iphone.stop_y=a.pageY,d.iphone.tap=!1,d.iphone.capture=!1,d.iphone.check_direction())});d.addEvent(document,
"touchend",function(l){1==d.iphone.tap&&d.iphone.check_direction(a)},!1);d.addEvent(document,"touchstart",function(a){d.iphone.start_x=a.changedTouches[0].pageX;d.iphone.start_y=a.changedTouches[0].pageY;d.iphone.tap=!0;d.iphone.capture=!0})},check_direction:function(a){x_magnitude=Math.abs(this.start_x-this.stop_x);y_magnitude=Math.abs(this.start_y-this.stop_y);x=0>this.start_x-this.stop_x?"RIGHT":"LEFT";y=0>this.start_y-this.stop_y?"DOWN":"UP";result=x_magnitude>y_magnitude?x:y;result=1==this.tap?
"TAP":result;result==this.keys[0]&&(this.keys=this.keys.slice(1,this.keys.length));0==this.keys.length&&(this.keys=this.orig_keys,this.code(a))}}};"string"===typeof a&&d.load(a);"function"===typeof a&&(d.code=a,d.load());return d};(function(a,d){"function"===typeof define&&define.amd?define([],d):"undefined"!==typeof module&&module.exports?module.exports=d():a.ReconnectingWebSocket=d()})(this,function(){function a(d,g){function l(w){m=new WebSocket(d,g);h.onconnecting();(h.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",d);var C=m,r=setTimeout(function(){(h.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",d);v=!0;C.close();v=!1},h.timeoutInterval);m.onopen=function(g){clearTimeout(r);
(h.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onopen",d);h.readyState=WebSocket.OPEN;w=!1;h.reconnectAttempts=0;h.onopen(g)};m.onclose=function(g){clearTimeout(r);m=null;A?(h.readyState=WebSocket.CLOSED,h.onclose(g)):(h.readyState=WebSocket.CONNECTING,h.onconnecting(),w||v||((h.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onclose",d),h.onclose(g)),setTimeout(function(){h.reconnectAttempts++;l(!0)},h.reconnectInterval*Math.pow(h.reconnectDecay,h.reconnectAttempts)))};
m.onmessage=function(g){(h.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",d,g.data);h.onmessage(g)};m.onerror=function(g){(h.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onerror",d,g);h.onerror(g)}}g=g||[];this.debug=!1;this.reconnectInterval=1E3;this.reconnectDecay=1.5;this.reconnectAttempts=0;this.timeoutInterval=2E3;var h=this,m,A=!1,v=!1;this.url=d;this.protocols=g;this.readyState=WebSocket.CONNECTING;this.URL=d;this.onopen=function(a){};this.onclose=function(a){};
this.onconnecting=function(a){};this.onmessage=function(a){};this.onerror=function(a){};l(!1);this.send=function(g){if(m)return(h.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","send",d,g),m.send(g);throw"INVALID_STATE_ERR : Pausing to reconnect websocket";};this.close=function(){A=!0;m&&m.close()};this.refresh=function(){m&&m.close()}}a.debugAll=!1;return a});(function(a){function d(a){throw new RangeError("noUiSlider: "+a);}function g(a,e,b){(a[e]||a[b])&&a[e]===a[b]&&d("(Link) '"+e+"' can't match '"+b+"'.'")}function l(a){return Math.max(Math.min(a,100),0)}function h(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function m(e){return a.isArray(e)?e:[e]}function A(a,e,b){a.addClass(e);setTimeout(function(){a.removeClass(e)},b)}function v(a,e){return 100*e/(a[1]-a[0])}function w(a,e){if(e>=a.xVal.slice(-1)[0])return 100;for(var b=1,c,d,k;e>=a.xVal[b];)b++;
c=a.xVal[b-1];d=a.xVal[b];k=a.xPct[b-1];b=a.xPct[b];c=[c,d];c=v(c,0>c[0]?e+Math.abs(c[0]):e-c[0]);return k+c/(100/(b-k))}function C(a,e){for(var b=1,c;e>=a.xPct[b];)b++;if(a.snap)return c=a.xPct[b-1],b=a.xPct[b],e-c>(b-c)/2?b:c;if(!a.xSteps[b-1])return e;c=a.xPct[b-1];var d=a.xSteps[b-1],b=Math.round((e-a.xPct[b-1])/d)*d;return c+b}function r(e){void 0===e&&(e={});"object"!==typeof e&&d("(Format) 'format' option must be an object.");var b={};a(P).each(function(a,c){void 0===e[c]?b[c]=I[a]:typeof e[c]===
typeof I[a]?("decimals"===c&&(0>e[c]||7<e[c])&&d("(Format) 'format.decimals' option must be between 0 and 7."),b[c]=e[c]):d("(Format) 'format."+c+"' must be a "+typeof I[a]+".")});g(b,"mark","thousand");g(b,"prefix","negative");g(b,"prefix","negativeBefore");this.settings=b}function p(e,b){if(!(this instanceof p))throw Error("Link: Don't use Link as a function. Use the 'new' keyword.");if(!e)throw new RangeError("Link: missing parameters.");this.formatting=e.format||{};this.update=!b;var c=this,d=
e.target||function(){},k=e.method,g="string"===typeof d&&0===d.indexOf("-tooltip-"),h="string"===typeof d&&0!==d.indexOf("-"),F="function"===typeof d,n=d instanceof a||a.zepto&&a.zepto.isZ(d),l=n&&d.is("input, select, textarea"),q=n&&"function"===typeof k,m=n&&"string"===typeof k&&d[k];if(g)this.method=k||"html",this.el=a(d.replace("-tooltip-","")||"<div/>")[0];else if(h)this.method="val",this.el=document.createElement("input"),this.el.name=d,this.el.type="hidden";else if(F)this.target=!1,this.method=
d;else{if(n){if(k&&(q||m)){this.target=d;this.method=k;return}if(!k&&l){this.method="val";this.target=d;this.target.on("change",function(e){e=a(e.target).val();var b=c.N;c.obj.val([b?null:e,b?e:null],{link:c})});return}if(!k&&!l){this.method="html";this.target=d;return}}throw new RangeError("Link: Invalid Link.");}}function J(a,e){h(e)||d("'step' is not numeric.");a.xSteps[0]=e}function G(e,b){("object"!==typeof b||a.isArray(b))&&d("'range' is not an object.");a.each(b,function(b,c){var D;"number"===
typeof c&&(c=[c]);a.isArray(c)||d("'range' contains invalid value.");D="min"===b?0:"max"===b?100:parseFloat(b);h(D)&&h(c[0])||d("'range' value isn't numeric.");e.xPct.push(D);e.xVal.push(c[0]);D?e.xSteps.push(isNaN(c[1])?!1:c[1]):isNaN(c[1])||(e.xSteps[0]=c[1])});a.each(e.xSteps,function(a,b){if(!b)return!0;e.xSteps[a]=v([e.xVal[a],e.xVal[a+1]],b)/(100/(e.xPct[a+1]-e.xPct[a]))})}function H(e,b){"number"===typeof b&&(b=[b]);(!a.isArray(b)||!b.length||2<b.length)&&d("'start' option is incorrect.");
e.handles=b.length;e.start=b}function K(a,e){a.snap=e;"boolean"!==typeof e&&d("'snap' option must be a boolean.")}function e(a,e){"lower"===e&&1===a.handles?a.connect=1:"upper"===e&&1===a.handles?a.connect=2:!0===e&&2===a.handles?a.connect=3:!1===e?a.connect=0:d("'connect' option was doesn't match handle count.")}function b(a,e){switch(e){case "horizontal":a.ort=0;break;case "vertical":a.ort=1;break;default:d("'orientation' option is invalid.")}}function c(a,e){2<a.xPct.length&&d("'margin' option is only supported on linear sliders.");
a.margin=v(a.xVal,e);h(e)||d("'margin' option must be numeric.")}function k(a,e){switch(e){case "ltr":a.dir=0;break;case "rtl":a.dir=1;a.connect=[0,2,1,3][a.connect];break;default:d("'direction' option was not recognized.")}}function F(a,e){"string"!==typeof e&&d("'behaviour' must be a string containing options.");var b=0<=e.indexOf("tap"),c=0<=e.indexOf("extend"),k=0<=e.indexOf("drag"),g=0<=e.indexOf("fixed"),h=0<=e.indexOf("snap");a.events={tap:b||h,extend:c,drag:k,fixed:g,snap:h}}function n(e,
b,c){e.ser=[b.lower,b.upper];e.formatting=new r(b.format);a.each(e.ser,function(e,k){a.isArray(k)||d("'serialization."+(e?"upper":"lower")+"' must be an array.");a.each(k,function(){this instanceof p||d("'serialization."+(e?"upper":"lower")+"' can only contain Link instances.");this.N=e;this.obj=c;this.scope=this.scope||c;this.formatting=new r(a.extend({},b.format,this.formatting))})});e.dir&&1<e.handles&&e.ser.reverse()}function L(t,D){var g={xPct:[],xVal:[],xSteps:[!1],margin:0},h;h={step:{r:!1,
t:J},range:{r:!0,t:G},start:{r:!0,t:H},snap:{r:!1,t:K},connect:{r:!0,t:e},orientation:{r:!1,t:b},margin:{r:!1,t:c},direction:{r:!0,t:k},behaviour:{r:!0,t:F},serialization:{r:!0,t:n}};t=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},t);t.serialization=a.extend({lower:[],upper:[],format:{}},t.serialization);a.each(h,function(a,e){if(void 0===t[a])if(e.r)d("'"+a+"' is required.");else return!0;e.t(g,t[a],D)});g.style=g.ort?"top":"left";return g}function M(e,b){var c=a("<div><div/></div>").addClass(q[2]),
d=["-lower","-upper"];e.dir&&d.reverse();c.children().addClass(q[3]+" "+q[3]+d[b]);return c}function B(e,b){b.el&&(b=new p({target:a(b.el).clone().appendTo(e),method:b.method,format:b.formatting},!0));return b}function Q(a,e){var b,c=[];for(b=0;b<a.handles;b++){var d=b,k=a.ser[b],g=e[b].children(),h=void 0,n=[];n.push(new p({format:a.formatting},!0));for(h=0;h<k.length;h++)n.push(B(g,k[h]));c[d]=n}return c}function R(a,e,b){switch(a){case 1:e.addClass(q[7]);b[0].addClass(q[6]);break;case 3:b[1].addClass(q[6]);
case 2:b[0].addClass(q[7]);case 0:e.addClass(q[6])}}function S(a,e){var b,c=[];for(b=0;b<a.handles;b++)c.push(M(a,b).appendTo(e));return c}function T(e,b){b.addClass([q[0],q[8+e.dir],q[4+e.ort]].join(" "));return a("<div/>").appendTo(b).addClass(q[1])}function U(e,b,c){function d(){return v[["width","height"][b.ort]]()}function k(a){var e,b=[z.val()];for(e=0;e<a.length;e++)z.trigger(a[e],b)}function g(e,c,d){var k=e[0]!==u[0][0]?1:0,h=p[0]+b.margin,t=p[1]-b.margin;d&&1<u.length&&(c=k?Math.max(c,h):
Math.min(c,t));100>c&&(c=C(b,c));c=l(parseFloat(c.toFixed(7)));if(c===p[k])return 1===u.length?!1:c===h||c===t?0:!1;e.css(b.style,c+"%");e.is(":first-child")&&e.toggleClass(q[17],50<c);p[k]=c;b.dir&&(c=100-c);a(B[k]).each(function(){this.write(b,c,e.children(),z)});return!0}function h(a,e,b){b||A(z,q[14],300);g(a,e,!1);k(["slide","set","change"])}function n(a,e,c,d){a=a.replace(/\s/g,".nui ")+".nui";return e.on(a,function(a){var e=z.attr("disabled"),e=!(void 0===e||null===e);if(z.hasClass(q[14])||
e)return!1;a.preventDefault();var e=0===a.type.indexOf("touch"),k=0===a.type.indexOf("mouse"),g=0===a.type.indexOf("pointer"),h,t,n=a;0===a.type.indexOf("MSPointer")&&(g=!0);a.originalEvent&&(a=a.originalEvent);e&&(h=a.changedTouches[0].pageX,t=a.changedTouches[0].pageY);if(k||g)g||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),h=a.clientX+window.pageXOffset,t=a.clientY+window.pageYOffset;n.points=[h,t];n.cursor=
k;a=n;a.calcPoint=a.points[b.ort];c(a,d)})}function F(a,e){var b=e.handles||u,c,h=!1,h=100*(a.calcPoint-e.start)/d(),t=b[0][0]!==u[0][0]?1:0;var n=e.positions;c=h+n[0];h+=n[1];1<b.length?(0>c&&(h+=Math.abs(c)),100<h&&(c-=h-100),c=[l(c),l(h)]):c=[c,h];h=g(b[0],c[t],1===b.length);1<b.length&&(h=g(b[1],c[t?0:1],!1)||h);h&&k(["slide"])}function m(e){a("."+q[15]).removeClass(q[15]);e.cursor&&a("body").css("cursor","").off(".nui");N.off(".nui");z.removeClass(q[12]);k(["set","change"])}function r(e,b){1===
b.handles.length&&b.handles[0].children().addClass(q[15]);e.stopPropagation();n(E.move,N,F,{start:e.calcPoint,handles:b.handles,positions:[p[0],p[u.length-1]]});n(E.end,N,m,null);e.cursor&&(a("body").css("cursor",a(e.target).css("cursor")),1<u.length&&z.addClass(q[12]),a("body").on("selectstart.nui",!1))}function M(e){var c=e.calcPoint,k=0;e.stopPropagation();a.each(u,function(){k+=this.offset()[b.style]});k=c<k/2||1===u.length?0:1;c-=v.offset()[b.style];c=100*c/d();h(u[k],c,b.events.snap);b.events.snap&&
r(e,{handles:[u[k]]})}function L(a){var e=(a=a.calcPoint<v.offset()[b.style])?0:100;a=a?0:u.length-1;h(u[a],e,!1)}var z=a(e),p=[-1,-1],v,B,u;if(!z.is(":empty"))throw Error("Slider was already initialized.");v=T(b,z);u=S(b,v);B=Q(b,u);R(b.connect,z,u);(function(a){var e;if(!a.fixed)for(e=0;e<u.length;e++)n(E.start,u[e].children(),r,{handles:[u[e]]});a.tap&&n(E.start,v,M,{handles:u});a.extend&&(z.addClass(q[16]),a.tap&&n(E.start,z,L,{handles:u}));a.drag&&(e=v.find("."+q[7]).addClass(q[10]),a.fixed&&
(e=e.add(v.children().not(e).children())),n(E.start,e,r,{handles:u}))})(b.events);e.vSet=function(e,c,d,h,t){var n;b.dir&&1<b.handles&&e.reverse();t&&A(z,q[14],300);for(n=0;n<(1<u.length?3:1);n++)t=d||B[n%2][0],t=t.valueOf(e[n%2]),!1!==t&&(t=w(b,t),b.dir&&(t=100-t),!0!==g(u[n%2],t,!0)&&a(B[n%2]).each(function(){this.write(b,p[n%2],u[n%2].children(),z,h)}));!0===c&&k(["set"]);return this};e.vGet=function(){var a,e=[];for(a=0;a<b.handles;a++)e[a]=B[a][0].saved;return 1===e.length?e[0]:b.dir&&1<b.handles?
e.reverse():e};e.destroy=function(){a.each(B,function(){a.each(this,function(){this.target&&this.target.off(".nui")})});a(this).off(".nui").removeClass(q.join(" ")).empty();return c};z.val(b.start)}function V(a){this.length||d("Can't initialize slider on empty selection.");var e=L(a,this);return this.each(function(){U(this,e,a)})}function W(e){return this.each(function(){var b=a(this).val(),c=this.destroy(),d=a.extend({},c,e);a(this).noUiSlider(d);c.start===d.start&&a(this).val(b)})}var N=a(document),
O=a.fn.val,E=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},q="noUi-target noUi-base noUi-origin noUi-handle noUi-horizontal noUi-vertical noUi-background noUi-connect noUi-ltr noUi-rtl noUi-dragable  noUi-state-drag  noUi-state-tap noUi-active noUi-extended noUi-stacking".split(" "),
P="decimals mark thousand prefix postfix encoder decoder negative negativeBefore".split(" "),I=[2,".","","","",function(a){return a},function(a){return a},"-",""];r.prototype.v=function(a){return this.settings[a]};r.prototype.to=function(a){function e(a){return a.split("").reverse().join("")}a=this.v("encoder")(a);var b="",c="",d="",k="";0>a&&(b=this.v("negative"),c=this.v("negativeBefore"));a=Math.abs(a).toFixed(this.v("decimals")).toString();a=a.split(".");0===parseFloat(a)&&(a[0]="0");this.v("thousand")?
(d=e(a[0]).match(/.{1,3}/g),d=e(d.join(e(this.v("thousand"))))):d=a[0];this.v("mark")&&1<a.length&&(k=this.v("mark")+a[1]);return c+this.v("prefix")+b+d+k+this.v("postfix")};r.prototype.from=function(a){function e(a){return a.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}var b;if(null===a||void 0===a)return!1;a=a.toString();b=a.replace(new RegExp("^"+e(this.v("negativeBefore"))),"");a!==b?(a=b,b="-"):b="";a=a.replace(new RegExp("^"+e(this.v("prefix"))),"");this.v.negative&&(b="",a=a.replace(new RegExp("^"+
e(this.v("negative"))),"-"));a=a.replace(new RegExp(e(this.v("postfix"))+"$"),"").replace(new RegExp(e(this.v("thousand")),"g"),"").replace(this.v("mark"),".");a=this.v("decoder")(parseFloat(b+a));return isNaN(a)?!1:a};p.prototype.write=function(a,e,b,c,d){if(!this.update||!1!==d){if(100<=e)e=a.xVal.slice(-1)[0];else{d=1;for(var k,h,g;e>=a.xPct[d];)d++;k=a.xVal[d-1];h=a.xVal[d];g=a.xPct[d-1];k=[k,h];e=100/(a.xPct[d]-g)*(e-g)*(k[1]-k[0])/100+k[0]}this.saved=e=this.format(e);if("function"===typeof this.method)this.method.call(this.target[0]||
c[0],e,b,c);else this.target[this.method](e,b,c)}};p.prototype.format=function(a){return this.formatting.to(a)};p.prototype.valueOf=function(a){return this.formatting.from(a)};a.noUiSlider={Link:p};a.fn.noUiSlider=function(a,e){return(e?W:V).call(this,a)};a.fn.val=function(){var e=Array.prototype.slice.call(arguments,0),b,c,d,k;if(!e.length)return this.hasClass(q[0])?this[0].vGet():O.apply(this);"object"===typeof e[1]?(b=e[1].set,c=e[1].link,d=e[1].update,k=e[1].animate):!0===e[1]&&(b=!0);return this.each(function(){a(this).hasClass(q[0])?
this.vSet(m(e[0]),b,c,d,k):O.apply(a(this),e)})}})(window.jQuery||window.Zepto);(function(){var a={},d=null,g=!0,l=!1;try{"undefined"!==typeof AudioContext?d=new AudioContext:"undefined"!==typeof webkitAudioContext?d=new webkitAudioContext:g=!1}catch(h){g=!1}if(!g)if("undefined"!==typeof Audio)try{new Audio}catch(m){l=!0}else l=!0;if(g){var A="undefined"===typeof d.createGain?d.createGainNode():d.createGain();A.gain.value=1;A.connect(d.destination)}var v=function(a){this._volume=1;this._muted=!1;this.usingWebAudio=g;this.ctx=d;this.noAudio=l;this._howls=[];this._codecs=a;this.iOSAutoEnable=
!0};v.prototype={volume:function(a){a=parseFloat(a);if(0<=a&&1>=a){this._volume=a;g&&(A.gain.value=a);for(var b in this._howls)if(this._howls.hasOwnProperty(b)&&!1===this._howls[b]._webAudio)for(a=0;a<this._howls[b]._audioNode.length;a++)this._howls[b]._audioNode[a].volume=this._howls[b]._volume*this._volume;return this}return g?A.gain.value:this._volume},mute:function(){this._setMuted(!0);return this},unmute:function(){this._setMuted(!1);return this},_setMuted:function(a){this._muted=a;g&&(A.gain.value=
a?0:this._volume);for(var b in this._howls)if(this._howls.hasOwnProperty(b)&&!1===this._howls[b]._webAudio)for(var c=0;c<this._howls[b]._audioNode.length;c++)this._howls[b]._audioNode[c].muted=a},codecs:function(a){return this._codecs[a]},_enableiOSAudio:function(){var a=this;if(!d||!a._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){a._iOSEnabled=!1;var b=function(){var c=d.createBuffer(1,1,22050),k=d.createBufferSource();k.buffer=c;k.connect(d.destination);"undefined"===typeof k.start?
k.noteOn(0):k.start(0);setTimeout(function(){if(k.playbackState===k.PLAYING_STATE||k.playbackState===k.FINISHED_STATE)a._iOSEnabled=!0,a.iOSAutoEnable=!1,window.removeEventListener("touchstart",b,!1)},0)};window.addEventListener("touchstart",b,!1);return a}}};var w=null,C={};l||(w=new Audio,C={mp3:!!w.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!w.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!w.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!w.canPlayType('audio/wav; codecs="1"').replace(/^no$/,
""),aac:!!w.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(w.canPlayType("audio/x-m4a;")||w.canPlayType("audio/m4a;")||w.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(w.canPlayType("audio/x-mp4;")||w.canPlayType("audio/mp4;")||w.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!w.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var r=new v(C),p=function(a){this._autoplay=a.autoplay||!1;this._buffer=a.buffer||!1;this._duration=a.duration||0;this._format=a.format||null;
this._loop=a.loop||!1;this._loaded=!1;this._sprite=a.sprite||{};this._src=a.src||"";this._pos3d=a.pos3d||[0,0,-.5];this._volume=void 0!==a.volume?a.volume:1;this._urls=a.urls||[];this._rate=a.rate||1;this._model=a.model||null;this._onload=[a.onload||function(){}];this._onloaderror=[a.onloaderror||function(){}];this._onend=[a.onend||function(){}];this._onpause=[a.onpause||function(){}];this._onplay=[a.onplay||function(){}];this._onendTimer=[];this._webAudio=g&&!this._buffer;this._audioNode=[];this._webAudio&&
this._setupAudioNode();"undefined"!==typeof d&&d&&r.iOSAutoEnable&&r._enableiOSAudio();r._howls.push(this);this.load()};p.prototype={load:function(){var a=this,b=null;if(!l){for(var c=0;c<a._urls.length;c++){var d,h;if(a._format)d=a._format;else if(h=a._urls[c],(d=/^data:audio\/([^;,]+);/i.exec(h))||(d=/\.([^.]+)$/.exec(h.split("?",1)[0])),d)d=d[1].toLowerCase();else{a.on("loaderror");return}if(C[d]){b=a._urls[c];break}}if(b){a._src=b;if(a._webAudio)J(a,b);else{var g=new Audio;g.addEventListener("error",
function(){g.error&&4===g.error.code&&(v.noAudio=!0);a.on("loaderror",{type:g.error?g.error.code:0})},!1);a._audioNode.push(g);g.src=b;g._pos=0;g.preload="auto";g.volume=r._muted?0:a._volume*r.volume();var m=function(){a._duration=Math.ceil(10*g.duration)/10;0===Object.getOwnPropertyNames(a._sprite).length&&(a._sprite={_default:[0,1E3*a._duration]});a._loaded||(a._loaded=!0,a.on("load"));a._autoplay&&a.play();g.removeEventListener("canplaythrough",m,!1)};g.addEventListener("canplaythrough",m,!1);
g.load()}return a}}a.on("loaderror")},urls:function(a){return a?(this.stop(),this._urls="string"===typeof a?[a]:a,this._loaded=!1,this.load(),this):this._urls},play:function(a,b){var c=this;"function"===typeof a&&(b=a);a&&"function"!==typeof a||(a="_default");if(!c._loaded)return c.on("load",function(){c.play(a,b)}),c;if(!c._sprite[a])return"function"===typeof b&&b(),c;c._inactiveNode(function(k){k._sprite=a;var g=0<k._pos?k._pos:c._sprite[a][0]/1E3,h=0;c._webAudio?(h=c._sprite[a][1]/1E3-k._pos,0<
k._pos&&(g=c._sprite[a][0]/1E3+g)):h=c._sprite[a][1]/1E3-(g-c._sprite[a][0]/1E3);var l=!(!c._loop&&!c._sprite[a][2]),m="string"===typeof b?b:Math.round(Date.now()*Math.random())+"",p;(function(){p=setTimeout(function(){!c._webAudio&&l&&c.stop(m).play(a,m);c._webAudio&&!l&&(c._nodeById(m).paused=!0,c._nodeById(m)._pos=0,c._clearEndTimer(m));c._webAudio||l||c.stop(m);c.on("end",m)},1E3*h);c._onendTimer.push({timer:p,id:m})})();if(c._webAudio){var v=c._sprite[a][0]/1E3,w=c._sprite[a][1]/1E3;k.id=m;k.paused=
!1;K(c,[l,v,w],m);c._playStart=d.currentTime;k.gain.value=c._volume;"undefined"===typeof k.bufferSource.start?k.bufferSource.noteGrainOn(0,g,h):k.bufferSource.start(0,g,h)}else if(4===k.readyState||!k.readyState&&navigator.isCocoonJS)k.readyState=4,k.id=m,k.currentTime=g,k.muted=r._muted||k.muted,k.volume=c._volume*r.volume(),setTimeout(function(){k.play()},0);else return c._clearEndTimer(m),function(){var d=a,g=b,h=function(){c.play(d,g);k.removeEventListener("canplaythrough",h,!1)};k.addEventListener("canplaythrough",
h,!1)}(),c;c.on("play");"function"===typeof b&&b(m);return c});return c},pause:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.pause(a)}),b;b._clearEndTimer(a);var c=a?b._nodeById(a):b._activeNode();if(c)if(c._pos=b.pos(null,a),b._webAudio){if(!c.bufferSource||c.paused)return b;c.paused=!0;"undefined"===typeof c.bufferSource.stop?c.bufferSource.noteOff(0):c.bufferSource.stop(0)}else c.pause();b.on("pause");return b},stop:function(a){var b=this;if(!b._loaded)return b.on("play",
function(){b.stop(a)}),b;b._clearEndTimer(a);var c=a?b._nodeById(a):b._activeNode();if(c)if(c._pos=0,b._webAudio){if(!c.bufferSource||c.paused)return b;c.paused=!0;"undefined"===typeof c.bufferSource.stop?c.bufferSource.noteOff(0):c.bufferSource.stop(0)}else isNaN(c.duration)||(c.pause(),c.currentTime=0);return b},mute:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.mute(a)}),b;var c=a?b._nodeById(a):b._activeNode();c&&(b._webAudio?c.gain.value=0:c.muted=!0);return b},unmute:function(a){var b=
this;if(!b._loaded)return b.on("play",function(){b.unmute(a)}),b;var c=a?b._nodeById(a):b._activeNode();c&&(b._webAudio?c.gain.value=b._volume:c.muted=!1);return b},volume:function(a,b){var c=this;a=parseFloat(a);if(0<=a&&1>=a){c._volume=a;if(!c._loaded)return c.on("play",function(){c.volume(a,b)}),c;var d=b?c._nodeById(b):c._activeNode();d&&(c._webAudio?d.gain.value=a:d.volume=a*r.volume());return c}return c._volume},loop:function(a){return"boolean"===typeof a?(this._loop=a,this):this._loop},sprite:function(a){return"object"===
typeof a?(this._sprite=a,this):this._sprite},pos:function(a,b){var c=this;if(!c._loaded)return c.on("load",function(){c.pos(a)}),"number"===typeof a?c:c._pos||0;a=parseFloat(a);var k=b?c._nodeById(b):c._activeNode();if(k)return 0<=a?(c.pause(b),k._pos=a,c.play(k._sprite,b),c):c._webAudio?k._pos+(d.currentTime-c._playStart):k.currentTime;if(0<=a)return c;for(k=0;k<c._audioNode.length;k++)if(c._audioNode[k].paused&&4===c._audioNode[k].readyState)return c._webAudio?c._audioNode[k]._pos:c._audioNode[k].currentTime},
pos3d:function(a,b,c,d){var g=this;b="undefined"!==typeof b&&b?b:0;c="undefined"!==typeof c&&c?c:-.5;if(!g._loaded)return g.on("play",function(){g.pos3d(a,b,c,d)}),g;if(0<=a||0>a){if(g._webAudio){var h=d?g._nodeById(d):g._activeNode();h&&(g._pos3d=[a,b,c],h.panner.setPosition(a,b,c),h.panner.panningModel=g._model||"HRTF")}}else return g._pos3d;return g},fade:function(a,b,c,d,g){var h=this,l=Math.abs(a-b),m=a>b?"down":"up",l=l/.01,r=c/l;if(!h._loaded)return h.on("load",function(){h.fade(a,b,c,d,g)}),
h;h.volume(a,g);for(var p=1;p<=l;p++)(function(){var a=Math.round(1E3*(h._volume+("up"===m?.01:-.01)*p))/1E3;setTimeout(function(){h.volume(a,g);a===b&&d&&d()},r*p)})()},fadeIn:function(a,b,c){return this.volume(0).play().fade(0,a,b,c)},fadeOut:function(a,b,c,d){var g=this;return g.fade(g._volume,a,b,function(){c&&c();g.pause(d);g.on("end")},d)},_nodeById:function(a){for(var b=this._audioNode[0],c=0;c<this._audioNode.length;c++)if(this._audioNode[c].id===a){b=this._audioNode[c];break}return b},_activeNode:function(){for(var a=
null,b=0;b<this._audioNode.length;b++)if(!this._audioNode[b].paused){a=this._audioNode[b];break}this._drainPool();return a},_inactiveNode:function(a){for(var b=null,c=0;c<this._audioNode.length;c++)if(this._audioNode[c].paused&&4===this._audioNode[c].readyState){a(this._audioNode[c]);b=!0;break}this._drainPool();if(!b){var d;if(this._webAudio)d=this._setupAudioNode(),a(d);else{this.load();d=this._audioNode[this._audioNode.length-1];var g=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",h=function(){d.removeEventListener(g,
h,!1);a(d)};d.addEventListener(g,h,!1)}}},_drainPool:function(){var a=0,b;for(b=0;b<this._audioNode.length;b++)this._audioNode[b].paused&&a++;for(b=this._audioNode.length-1;0<=b&&!(5>=a);b--)this._audioNode[b].paused&&(this._webAudio&&this._audioNode[b].disconnect(0),a--,this._audioNode.splice(b,1))},_clearEndTimer:function(a){for(var b=0,c=0;c<this._onendTimer.length;c++)if(this._onendTimer[c].id===a){b=c;break}if(a=this._onendTimer[b])clearTimeout(a.timer),this._onendTimer.splice(b,1)},_setupAudioNode:function(){var a=
this._audioNode,b=this._audioNode.length;a[b]="undefined"===typeof d.createGain?d.createGainNode():d.createGain();a[b].gain.value=this._volume;a[b].paused=!0;a[b]._pos=0;a[b].readyState=4;a[b].connect(A);a[b].panner=d.createPanner();a[b].panner.panningModel=this._model||"equalpower";a[b].panner.setPosition(this._pos3d[0],this._pos3d[1],this._pos3d[2]);a[b].panner.connect(a[b]);return a[b]},on:function(a,b){var c=this["_on"+a];if("function"===typeof b)c.push(b);else for(var d=0;d<c.length;d++)b?c[d].call(this,
b):c[d].call(this);return this},off:function(a,b){var c=this["_on"+a],d=b?b.toString():null;if(d)for(var g=0;g<c.length;g++){if(d===c[g].toString()){c.splice(g,1);break}}else this["_on"+a]=[];return this},unload:function(){for(var d=this._audioNode,b=0;b<this._audioNode.length;b++)d[b].paused||(this.stop(d[b].id),this.on("end",d[b].id)),this._webAudio?d[b].disconnect(0):d[b].src="";for(b=0;b<this._onendTimer.length;b++)clearTimeout(this._onendTimer[b].timer);d=r._howls.indexOf(this);null!==d&&0<=
d&&r._howls.splice(d,1);delete a[this._src]}};if(g)var J=function(d,b){if(b in a)d._duration=a[b].duration,H(d);else if(/^data:[^;]+;base64,/.test(b)){for(var c=atob(b.split(",")[1]),g=new Uint8Array(c.length),h=0;h<c.length;++h)g[h]=c.charCodeAt(h);G(g.buffer,d,b)}else{var l=new XMLHttpRequest;l.open("GET",b,!0);l.responseType="arraybuffer";l.onload=function(){G(l.response,d,b)};l.onerror=function(){d._webAudio&&(d._buffer=!0,d._webAudio=!1,d._audioNode=[],delete d._gainNode,delete a[b],d.load())};
try{l.send()}catch(m){l.onerror()}}},G=function(e,b,c){d.decodeAudioData(e,function(d){d&&(a[c]=d,H(b,d))},function(a){b.on("loaderror")})},H=function(a,b){a._duration=b?b.duration:a._duration;0===Object.getOwnPropertyNames(a._sprite).length&&(a._sprite={_default:[0,1E3*a._duration]});a._loaded||(a._loaded=!0,a.on("load"));a._autoplay&&a.play()},K=function(e,b,c){c=e._nodeById(c);c.bufferSource=d.createBufferSource();c.bufferSource.buffer=a[e._src];c.bufferSource.connect(c.panner);c.bufferSource.loop=
b[0];b[0]&&(c.bufferSource.loopStart=b[1],c.bufferSource.loopEnd=b[1]+b[2]);c.bufferSource.playbackRate.value=e._rate};"function"===typeof define&&define.amd&&define(function(){return{Howler:r,Howl:p}});"undefined"!==typeof exports&&(exports.Howler=r,exports.Howl=p);"undefined"!==typeof window&&(window.Howler=r,window.Howl=p)})();function surrogateCtor(){}function extend(a,d){surrogateCtor.prototype=a.prototype;d.prototype=new surrogateCtor;d.prototype.constructor=d};var CONNECTED="Connected.",CONNECTING="Connecting...",NO_SUPPORT="No browser support.",CLOSED="Click to connect.";function StatusBox(){}StatusBox.init=function(a){StatusBox.blockchain=$("#blockchainStatus");a&&StatusBox.blockchain.html("");$("#blockchainCheckBox").is(":checked")?StatusBox.reconnecting("blockchain"):StatusBox.closed("blockchain")};StatusBox.connected=function(a){"blockchain"==a&&StatusBox.blockchain.html('dogechain.info Transactions: <span style="color: green;">'+CONNECTED+"</span>")};
StatusBox.reconnecting=function(a){"blockchain"==a&&StatusBox.blockchain.html('dogechain.info Transactions: <span style="color: yellow;">'+CONNECTING+"</span>")};StatusBox.nosupport=function(a){"blockchain"==a&&StatusBox.blockchain.html('dogechain.info Transactions: <span style="color: red;">'+NO_SUPPORT+"</span>")};StatusBox.closed=function(a){"blockchain"==a&&StatusBox.blockchain.html('dogechain.info Transactions: <span style="color: gray;">'+CLOSED+"</span>")};var satoshi=1E8,DELAY_CAP=1E3,lastBlockHeight=0;function TransactionSocket(){}
TransactionSocket.init=function(){TransactionSocket.connection&&TransactionSocket.connection.close();if("WebSocket"in window){var a=new ReconnectingWebSocket("wss://ws.dogechain.info/inv");TransactionSocket.connection=a;StatusBox.reconnecting("blockchain");a.onopen=function(){console.log("dogechain.info: Connection open!");StatusBox.connected("blockchain");a.send(JSON.stringify({op:"unconfirmed_sub"}));a.send(JSON.stringify({op:"blocks_sub"}));a.send(JSON.stringify({op:"ping_tx"}))};a.onclose=function(){console.log("dogechain.info: Connection closed");
$("#blockchainCheckBox").prop("checked")?StatusBox.reconnecting("blockchain"):StatusBox.closed("blockchain")};a.onerror=function(a){console.log("Blockchain.info: Connection Error: "+a)};a.onmessage=function(a){a=JSON.parse(a.data);if("utx"==a.op){for(var g=0,l=0;l<a.x.outputs.length;l++)g+=a.x.outputs[l].value;for(var h=g/satoshi,g=a.x.outputs,l=0;l<g.length;l++)if(g[l].addr==DONATION_ADDRESS){h=a.x.outputs[l].value/satoshi;new Transaction(h,!0);return}setTimeout(function(){new Transaction(h)},Math.random()*
DELAY_CAP)}else if("block"==a.op){var g=a.x.height,l=a.x.n_tx,m=a.x.difficulty;a=a.x.size;g>lastBlockHeight&&(lastBlockHeight=g,console.log("New Block"),new Block(g,l,m,a))}}}else console.log("No websocket support."),StatusBox.nosupport("blockchain")};TransactionSocket.close=function(){TransactionSocket.connection&&TransactionSocket.connection.close();StatusBox.closed("blockchain")};var rateboxTimeout,currentExchange,ratebox_ms=3E3;rateboxGetRate=function(){if("cryptsy"==currentExchange)$.getJSON("https://chain.so/api/v2/get_price/DOGE/BTC",function(a){(a=$.parseJSON(a.data.prices[0].price))?$("#rate").html(Math.round(1E8*parseFloat(a).toFixed(8))):rateboxTimeout=setTimeout(rateboxGetRate,ratebox_ms)});else throw"Unrecognized Exchange";};
$(document).ready(function(){(new Pusher("e9f5cc20074501ca7395",{encrypted:!0,disabledTransports:["sockjs"],disableStats:!0})).subscribe("ticker_doge_btc").bind("price_update",function(a){f("price"==data.type&&"cryptsy"==data.value.exchange);$("#rate").html(1E8*parseFloat(a.value.price).toFixed(8));rateboxTimeout&&clearTimeout(rateboxTimeout)})});switchExchange=function(a){clearTimeout(rateboxTimeout);currentExchange=a;$("#rate").html("---");"cryptsy"==a&&$("#bitstampRate").css("color","white");rateboxGetRate()};var globalVolume=50,globalScalePitch,globalBank;Howler.volume(.01*globalVolume);function Sound(){}var soundBank=[["celesta",22],["planet",33],["wikki",13]];function zeroPad(a,d){var g=d-a.toString().length+1;return Array(+(0<g&&g)).join("0")+a}Sound.loadup=function(){sound0=[];sound1=[];sound2=[];swells0=[];swells1=[];swells2=[]};
Sound.init=function(){$("#volumeControl").click(function(){globalMute?(globalMute=!1,Howler.unmute(),$("#volumeControl").css("background-position","0 -46px")):(globalMute=!0,Howler.mute(),$("#volumeControl").css("background-position","0 0"))});$("#volumeSlider").noUiSlider({range:{min:0,max:100},start:50,handles:1,step:1,orientation:"vertical"}).on("slide",function(){globalVolume=100-$(this).val();Howler.volume(.01*globalVolume)});globalScalePitch=$("#scalePitchCheckBox").attr("checked");Sound.change(0)};
Sound.change=function(a){if(0===a){if(0===sound0.length)for(a=1;22>=a;a++)istring=zeroPad(a,3),newSound=new Howl({urls:["sounds/celesta/celesta"+istring+".ogg","sounds/celesta/celesta"+istring+".mp3"],autoplay:!1}),sound0.push(newSound);if(0===swells0.length)for(a=1;3>=a;a++)newSound=new Howl({urls:["sounds/swells0/swell"+a+".ogg","sounds/swells0/swell"+a+".mp3"],autoplay:!1}),swells0.push(newSound);currentSound=sound0;currentSwells=swells0;$("#musicianDonation").text("")}else if(1===a){if(0===sound1.length)for(a=
1;33>=a;a++)istring=zeroPad(a,3),newSound=new Howl({urls:["sounds/planet/planet"+istring+".ogg","sounds/planet/planet"+istring+".mp3"],autoplay:!1}),sound1.push(newSound);if(0===swells1.length)for(a=1;3>=a;a++)newSound=new Howl({urls:["sounds/swells1/planetswell"+a+".ogg","sounds/swells1/planetswell"+a+".mp3"],autoplay:!1}),swells1.push(newSound);currentSound=sound1;currentSwells=swells1;SOUND_DONATION_ADDRESS="144b31mmaWQVDQFiUPo6HEzxc2Dm83WXrW";$("#musicianDonation").html("Donate to instrument creator: <span>"+
SOUND_DONATION_ADDRESS+"</span>")}else if(2===a){if(0===sound2.length)for(a=1;13>=a;a++)istring=zeroPad(a,3),newSound=new Howl({urls:["sounds/wikki/wikki"+istring+".ogg","sounds/wikki/wikki"+istring+".mp3"],autoplay:!1}),sound2.push(newSound);if(0===swells2.length)for(a=1;3>=a;a++)newSound=new Howl({urls:["sounds/swells2/wikkiswell"+a+".ogg","sounds/swells2/wikkiswell"+a+".mp3"],autoplay:!1}),swells2.push(newSound);currentSound=sound2;currentSwells=swells2;SOUND_DONATION_ADDRESS="1JFaYRGkDmhpSTbFKwqDWKr2ncvvrgYEAV";
$("#musicianDonation").html("Donate to instrument creator: <span>"+SOUND_DONATION_ADDRESS+"</span>")}};var currentNotes=0,noteTimeout=500;Sound.playRandomAtVolume=function(a){if(!globalMute){var d=Math.floor(100*Math.random());Sound.playPitchAtVolume(a,d)}};
Sound.playPitchAtVolume=function(a,d){if(!globalMute){var g=Math.floor(d/100*currentSound.length),l=Math.floor(4*Math.random())-2,g=Math.min(currentSound.length-1,g+l),g=Math.max(0,g);5>currentNotes&&(currentSound[g].volume(a),currentSound[g].play(),currentNotes++,setTimeout(function(){currentNotes--},noteTimeout))}};var lastBlockSound=-1;Sound.playRandomSwell=function(){if(!globalMute){var a;do a=Math.floor(Math.random()*currentSwells.length);while(a==lastBlockSound);lastBlockSound=a;currentSwells[a].play()}};function Floatable(){this.velocity={x:0,y:-1};this.pageDiv=document.getElementById("bubbleDiv");this.updateContainerSize();this.div=document.createElement("div");this.div.className="floatableDiv";this.pageDiv.appendChild(this.div);this.innerDiv=document.createElement("div");this.innerDiv.style.zIndex=2;this.div.appendChild(this.innerDiv);this.innerDiv.className="innerDiv";updateTargets.push(this)}
Floatable.prototype.updateContainerSize=function(){this.pageDivWidth=$(this.pageDiv).width();this.pageDivHeight=$(this.pageDiv).height()};Floatable.prototype.update=function(a){a/=50;this.x+=this.velocity.x*a;this.y+=this.velocity.y*a;this.velocity.x+=(.1*Math.random()-.05)*a;1<this.velocity.x?this.velocity.x=1:-1>this.velocity.x&&(this.velocity.x=-1);0>this.x?this.velocity.x+=.005*a:this.x>this.pageDivWidth-this.width&&(this.velocity.x-=.005*a);this.updateDiv();this.y<-this.height&&this.removeSelf()};
Floatable.prototype.updateDiv=function(){this.div.style["-webkit-transform"]="translate("+this.x+"px,"+this.y+"px)";this.div.style.transform="translate("+this.x+"px,"+this.y+"px)"};Floatable.prototype.removeSelf=function(){this.pageDiv.removeChild(this.div);updateTargets.splice(updateTargets.indexOf(this),1)};
Floatable.prototype.addImage=function(a,d,g){this.canvas=document.createElement("canvas");this.image=a;this.canvas.height=g;this.canvas.width=d;this.canvas.style.position="absolute";this.canvas.style.top="0px";this.canvas.style.left="0px";this.canvas.style.zIndex=1;this.canvas.getContext("2d").drawImage(this.image,0,0,d-1,g-1);this.div.appendChild(this.canvas);-1<a.src.indexOf("images/block.png")&&(this.innerDiv.style.color="white")};
Floatable.prototype.addText=function(a){this.innerDiv.innerHTML+=a};Floatable.prototype.initPosition=function(){this.x=Math.random()*(this.pageDivWidth-this.width);this.y=this.pageDivHeight;this.updateDiv();this.div.style.width=this.width+"px";this.div.style.height=this.height+"px";this.innerDiv.style.top=this.height/2-this.innerDiv.offsetHeight/2+"px"};
var easterSuccess=function(){var a=new Floatable;a.width=53;a.height=48;a.image=document.createElement("img");a.image.src="images/easteregg.gif";a.image.height=a.height;a.image.width=a.width;a.image.style.position="absolute";a.image.style.top="0px";a.image.style.left="0px";a.div.appendChild(a.image);a.initPosition();a.update=function(d){Floatable.prototype.update.call(a,d);a.velocity.x+=.3*Math.random()-.15;.1<a.velocity.x&&$(a.div).css({"-moz-transform":"scaleX(-1)","-o-transform":"scaleX(-1)","-webkit-transform":"scaleX(-1)",
transform:"scaleX(-1)"});-.1>a.velocity.x&&$(a.div).css({"-moz-transform":"scaleX(1)","-o-transform":"scaleX(1)","-webkit-transform":"scaleX(1)",transform:"scaleX(1)"})}};new Konami(easterSuccess);function Block(a,d,g,l){"visible"===document.visibilityState&&(Floatable.call(this),l=Math.floor(l/1024)+" KB",this.width=this.height=500,this.addImage(blockImage,this.width,this.height),this.addText("Block #"+a+"<br />Number of Transactions: "+d+"<br />Difficulty: "+g+"<br />Block Size: "+l),this.initPosition());Sound.playRandomSwell()}extend(Floatable,Block);function Transaction(a,d,g,l){if("visible"===document.visibilityState){Floatable.call(this);this.area=a/1;this.width=this.height=2*Math.sqrt(this.area/Math.PI);900<this.width&&(this.width=this.height=900);100>this.width&&(this.width=this.height=100);this.addImage(bubbleImage,this.width,this.height);var h="&#272;"+a.toFixed(2);"&#272;0.00"==h&&(h="<&#272;0.01");d?this.addText('<span style="color: yellow;">'+h+'</span><br /><span style="color: cyan;">Donation</span><br /><span style="color: lime;">Thanks!</span>'):
this.addText(h);g&&l&&this.addText("<br />"+g.toFixed(2)+" "+l);this.initPosition()}d=a/(5E6/(.7-.3))+.3;.7<d&&(d=.7);a=Math.min(100,Math.log(a+1.0715307808111487)/Math.log(1.0715307808111487));globalScalePitch?Sound.playPitchAtVolume(d,100-a):Sound.playRandomAtVolume(d)}extend(Floatable,Transaction);var DEBUG_MODE=!1,DONATION_ADDRESS,SOUND_DONATION_ADDRESS,globalMute=!1,instanceId=0,pageDivId="pageDiv",last_update=0,updateTargets=[],bubbleImage=new Image;bubbleImage.src="images/bubble.png";var blockImage=new Image;blockImage.src="images/block.png";var debugSpawner,updateLayoutWidth=function(){$(".chartMask").css("visibility","visible")},updateLayoutHeight=function(){var a=window.innerHeight;"none"!=$("#header").css("display")&&(a-=$("#header").outerHeight());$("#pageSplitter").height(a)};
$(document).ready(function(){prevChartWidth=$("#pageSplitter").width()/2;$("#chartCell").hide();DONATION_ADDRESS=$("#donationAddress").html();$("#noJavascript").css("display","none");updateLayoutHeight();StatusBox.init(DEBUG_MODE);$(".clickSuppress").click(function(){$(".clickSuppress").parent().slideUp(300)});debugSpawner=function(){if(.1>=Math.random()){var a;a=Math.random();a=.6>a?Math.random():.8>a?10*Math.random():.95>a?100*Math.random():1E3*Math.random();.5>Math.random()?new Transaction(a,!1):
new Transaction(a,!1,75*a,"USD")}};switchExchange("cryptsy");$("#donationAddress").qr()});
var toggleInterface=function(){0===$(".interface:hidden").length?($(".interface").fadeOut(500,updateLayoutHeight),$("#hideInterface").html("[ Show Interface ]"),$("#hideInterface").css("opacity","0.5")):($(".interface").fadeIn(500),$("#hideInterface").html("[ Hide Interface ]"),$("#hideInterface").css("opacity","1"),updateLayoutHeight())},globalUpdate=function(a){window.requestAnimationFrame(globalUpdate);var d=a-last_update;last_update=a;for(a=0;a<updateTargets.length;a++)updateTargets[a].update(d)};
$(window).bind("load",function(){DEBUG_MODE?setInterval(debugSpawner,100):$("#blockchainCheckBox").prop("checked")&&TransactionSocket.init();window.requestAnimationFrame(globalUpdate);Sound.loadup();Sound.init()});
var endResize=function(){$(".chartMask").css("visibility","hidden");for(var a=0;a<updateTargets.length;a++)updateTargets[a].updateContainerSize()},hideChart=function(){$("#chartElement").hide();$("#showChart").show();prevChartWidth=$("#chartCell").width();$("#chartCell").width(0);$("#chartCell").hide();$("#pageSplitter").colResizable({disable:!0})},showChart=function(){$("#chartElement").show();$("#showChart").hide();$("#chartCell").width(prevChartWidth);$("#chartCell").show();$(window).trigger("resize");
0===$("#bitcoinChart").length&&$("#chartHolder").html('<iframe id="bitcoinChart" scrolling="no" frameBorder="0" src="http://bitcoin.clarkmoody.com/widget/chart/zeroblock/"></iframe>');$("#pageSplitter").colResizable({liveDrag:!0,onDrag:updateLayoutWidth,onResize:endResize})};$(window).resize(function(){updateLayoutHeight()});window.onbeforeunload=function(a){clearInterval(globalUpdate);TransactionSocket.close()};
